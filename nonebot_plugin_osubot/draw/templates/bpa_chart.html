<head>
    <meta charset="UTF-8">
    <title>Awesome-pyecharts</title>
    <script type="text/javascript" src="./echarts.min.js"></script>
</head>
<body >
    <div id="1" class="chart-container" style="width:900px; height:500px; "></div>
    <script>
        const chart = echarts.init(
            document.getElementById('1'), 'white', {renderer: 'canvas'}
        );
        const option = {
          animation: false,
          legend: {
            data: ['pp', 'time']
          },
          xAxis: [
            {
              type: 'category',
              data: Array.from({ length: 100 }, (_, i) => i),
              axisLabel: {
                  interval: 9
              }
            }
          ],
          yAxis: [
            {
              type: 'value',
              name: 'pp',
              scale: true,
              axisLabel: {
                formatter: '{value} pp'
              }
            },
            {
              type: 'value',
              name: 'time',
              min: 0,
              alignTicks: true,
              axisLabel: {
                  formatter: function (value, index) {
                      const date = new Date(value * 1000);
                      const minute = date.getMinutes();
                      const seconds = date.getSeconds();
                      if (seconds.toString().length === 1)
                          return minute + ':' + '0' + seconds;
                      return minute + ':' + seconds;
                    }
                }
            }
          ],
          series: [
            {
              name: 'pp',
              symbol: 'none',
              type: 'line',
              data: {{ pp_ls }}
            },
            {
              name: 'time',
              type: 'bar',
              yAxisIndex: 1,
              data: {{ length_ls }}
            }
          ]
        };
        chart.setOption(option);
    </script>
</body>
